"function"!=typeof Object.create&&(Object.create=function(o){function i(){}return i.prototype=o,new i}),function(o,i,e,t){var n={init:function(i,e){var t,n=this;if(n.elem=e,n.$elem=o(e),n.options=o.extend({},o.fn.ezPlus.options,n.responsiveConfig(i||{})),n.imageSrc=n.$elem.data(n.options.attrImageZoomSrc)?n.$elem.data(n.options.attrImageZoomSrc):n.$elem.attr("src"),n.options.enabled){if(n.options.tint&&(n.options.lensColour="none",n.options.lensOpacity="1"),"inner"===n.options.sviZoomType&&(n.options.showLens=!1),-1===n.options.sviZoomId&&(n.options.sviZoomId=function(){var o=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var e=(o+16*Math.random())%16|0;return o=Math.floor(o/16),("x"==i?e:3&e|8).toString(16)})}()),n.$elem.parent().removeAttr("title").removeAttr("alt"),n.sviZoomImage=n.imageSrc,n.refresh(1),n.options.loadingIcon&&!n.spinner){o("div.woosvi_strap div#svi_mainslider .swiper-slide.swiper-slide-active img,div#woosvimain img").fadeTo("fast",.5),n.nzWidth=n.$elem.width(),n.nzHeight=n.$elem.height();var s="height:"+n.nzHeight+"px;width:"+n.nzWidth+"px;z-index: 2000;position: absolute; ";s+="top: 0px;",n.spinner=o('<div class="ezp-spinner" style="'+s+'"><div class="sviLoader"></div></div>'),n.$elem.after(n.spinner)}else n.spinner&&n.spinner.show();(t=o(n.options.gallery?"#"+n.options.gallery:n.options.gallerySelector)).on("click.sviZoom",n.options.galleryItem,function(i){if(n.options.galleryActiveClass&&(o(n.options.galleryItem,t).removeClass(n.options.galleryActiveClass),o(this).addClass(n.options.galleryActiveClass)),"A"===this.tagName&&i.preventDefault(),o(this).data(n.options.attrImageZoomSrc)?n.sviZoomImagePre=o(this).data(n.options.attrImageZoomSrc):n.sviZoomImagePre=o(this).data("image"),n.swaptheimage(o(this).data("image"),n.sviZoomImagePre),"A"===this.tagName)return!1})}},refresh:function(o){var i=this;setTimeout(function(){i.fetch(i.imageSrc,i.$elem,i.options.minZoomLevel)},o||i.options.refresh)},fetch:function(i,e,t){var n=this,s=new Image;s.onload=function(){s.width/e.width()<=t?n.largeWidth=e.width()*t:n.largeWidth=s.width,s.height/e.height()<=t?n.largeHeight=e.height()*t:n.largeHeight=s.height,n.startZoom(),n.currentImage=n.imageSrc,n.options.onZoomedImageLoaded(n.$elem),n.options.loadingIcon&&n.spinner&&n.spinner.length&&(n.spinner.hide(),o("div.woosvi_strap div#svi_mainslider .swiper-slide.swiper-slide-active img,div#woosvimain img").fadeTo("fast",1))},n.setImageSource(s,i)},setImageSource:function(o,i){o.src=i},startZoom:function(){function i(o){e.lastX===o.clientX&&e.lastY===o.clientY||(e.setPosition(o),e.currentLoc=o),e.lastX=o.clientX,e.lastY=o.clientY}var e=this;e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.isWindowActive=!1,e.isLensActive=!1,e.isTintActive=!1,e.overWindow=!1,e.options.imageCrossfade&&(e.sviZoomWrap=e.$elem.wrap('<div style="height:'+e.nzHeight+"px;width:"+e.nzWidth+'px;" class="sviZoomWrapper" />'),e.$elem.css("position","absolute")),e.sviZoomLock=1,e.scrollingLock=!1,e.changeBgSize=!1,e.currentZoomLevel=e.options.sviZoomLevel,e.nzOffset=e.$elem.offset(),e.widthRatio=e.largeWidth/e.currentZoomLevel/e.nzWidth,e.heightRatio=e.largeHeight/e.currentZoomLevel/e.nzHeight,"window"===e.options.sviZoomType&&(e.sviZoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(e.options.sviZoomWindowBgColour)+";width: "+String(e.options.sviZoomWindowWidth)+"px;height: "+String(e.options.sviZoomWindowHeight)+"px;float: left;background-size: "+e.largeWidth/e.currentZoomLevel+"px "+e.largeHeight/e.currentZoomLevel+"px;display: none;z-index:100;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"===e.options.sviZoomType&&(e.sviZoomWindowStyle=function(){var o=e.$elem.css("border-left-width");return"overflow: hidden;margin-left: "+String(o)+";margin-top: "+String(o)+";background-position: 0px 0px;width: "+String(e.nzWidth)+"px;height: "+String(e.nzHeight)+"px;float: left;display: none;cursor:"+e.options.cursor+";border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"}()),"window"===e.options.sviZoomType&&(e.lensStyle=(e.nzHeight<e.options.sviZoomWindowHeight/e.heightRatio?e.lensHeight=e.nzHeight:e.lensHeight=String(e.options.sviZoomWindowHeight/e.heightRatio),e.largeWidth<e.options.sviZoomWindowWidth?e.lensWidth=e.nzWidth:e.lensWidth=String(e.options.sviZoomWindowWidth/e.widthRatio),"background-position: 0px 0px;width: "+String(e.options.sviZoomWindowWidth/e.widthRatio)+"px;height: "+String(e.options.sviZoomWindowHeight/e.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;opacity:"+e.options.lensOpacity+";filter: alpha(opacity = "+100*e.options.lensOpacity+"); sviZoom:1;width:"+e.lensWidth+"px;height:"+e.lensHeight+"px;background-color:"+e.options.lensColour+";cursor:"+e.options.cursor+";border: "+e.options.lensBorderSize+"px solid "+e.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;")),e.tintStyle="display: block;position: absolute;background-color: "+e.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+e.nzWidth+"px;height: "+e.nzHeight+"px;",e.lensRound="","lens"===e.options.sviZoomType&&(e.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";width:"+String(e.options.lensSize)+"px;height:"+String(e.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"===e.options.lensShape&&(e.lensRound="border-top-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-top-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;"),e.sviZoomContainer=o('<div class="sviZoomContainer" uuid="'+e.options.sviZoomId+'"style="position:absolute;left:'+e.nzOffset.left+"px;top:"+e.nzOffset.top+"px;height:"+e.nzHeight+"px;width:"+e.nzWidth+"px;z-index:"+e.options.zIndex+'"></div>'),e.$elem.attr("id")&&e.sviZoomContainer.attr("id",e.$elem.attr("id")+"-sviZoomContainer"),o(e.options.sviZoomContainerAppendTo).append(e.sviZoomContainer),e.options.containLensZoom&&"lens"===e.options.sviZoomType&&e.sviZoomContainer.css("overflow","hidden"),"inner"!==e.options.sviZoomType&&(e.sviZoomLens=o('<div class="sviZoomLens" style="'+e.lensStyle+e.lensRound+'">&nbsp;</div>').appendTo(e.sviZoomContainer).click(function(){e.$elem.trigger("click")}),e.options.tint&&(e.tintContainer=o("<div/>").addClass("tintContainer"),e.sviZoomTint=o('<div class="sviZoomTint" style="'+e.tintStyle+'"></div>'),e.sviZoomLens.wrap(e.tintContainer),e.sviZoomTintcss=e.sviZoomLens.after(e.sviZoomTint),e.sviZoomTintImage=o('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+e.nzWidth+"px; height: "+e.nzHeight+'px;" src="'+e.imageSrc+'">').appendTo(e.sviZoomLens).click(function(){e.$elem.trigger("click")})));var t=isNaN(e.options.sviZoomWindowPosition)?"body":e.sviZoomContainer;e.sviZoomWindow=o('<div style="z-index:999;left:'+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.sviZoomWindowStyle+'" class="sviZoomWindow">&nbsp;</div>').appendTo(t).click(function(){e.$elem.trigger("click")}),e.sviZoomWindowContainer=o("<div/>").addClass("sviZoomWindowContainer").css("width",e.options.sviZoomWindowWidth),e.sviZoomWindow.wrap(e.sviZoomWindowContainer),"lens"===e.options.sviZoomType&&e.sviZoomLens.css("background-image",'url("'+e.imageSrc+'")'),"window"===e.options.sviZoomType&&e.sviZoomWindow.css("background-image",'url("'+e.imageSrc+'")'),"inner"===e.options.sviZoomType&&e.sviZoomWindow.css("background-image",'url("'+e.imageSrc+'")'),e.options.touchEnabled&&(e.$elem.bind("touchmove.ezpspace",function(o){o.preventDefault();var i=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];e.setPosition(i)}),e.sviZoomContainer.bind("touchmove.ezpspace",function(o){"inner"===e.options.sviZoomType&&e.showHideWindow("show"),o.preventDefault();var i=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];e.setPosition(i)}),e.sviZoomContainer.bind("touchend.ezpspace",function(o){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!==e.options.sviZoomType&&e.showHideTint("hide")}),e.$elem.bind("touchend.ezpspace",function(o){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!==e.options.sviZoomType&&e.showHideTint("hide")}),e.options.showLens&&(e.sviZoomLens.bind("touchmove.ezpspace",function(o){o.preventDefault();var i=o.originalEvent.touches[0]||o.originalEvent.changedTouches[0];e.setPosition(i)}),e.sviZoomLens.bind("touchend.ezpspace",function(o){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!==e.options.sviZoomType&&e.showHideTint("hide")}))),e.$elem.bind("mousemove.ezpspace",function(o){!1===e.overWindow&&e.setElements("show"),e.lastX===o.clientX&&e.lastY===o.clientY||(e.setPosition(o),e.currentLoc=o),e.lastX=o.clientX,e.lastY=o.clientY}),e.sviZoomContainer.bind("click.ezpspace touchstart.ezpspace",e.options.onImageClick),e.sviZoomContainer.bind("mousemove.ezpspace",function(o){!1===e.overWindow&&e.setElements("show"),i(o)});var n=null;"inner"!==e.options.sviZoomType&&(n=e.sviZoomLens),e.options.tint&&"inner"!==e.options.sviZoomType&&(n=e.sviZoomTint),"inner"===e.options.sviZoomType&&(n=e.sviZoomWindow),n&&n.bind("mousemove.ezpspace",i),e.sviZoomContainer.add(e.$elem).mouseenter(function(){!1===e.overWindow&&e.setElements("show")}).mouseleave(function(){e.scrollLock||(e.setElements("hide"),e.options.onDestroy(e.$elem))}),"inner"!==e.options.sviZoomType&&e.sviZoomWindow.mouseenter(function(){e.overWindow=!0,e.setElements("hide")}).mouseleave(function(){e.overWindow=!1}),e.options.minZoomLevel?e.minZoomLevel=e.options.minZoomLevel:e.minZoomLevel=2*e.options.scrollZoomIncrement,e.options.scrollZoom&&e.sviZoomContainer.add(e.$elem).bind("wheel DOMMouseScroll MozMousePixelScroll",function(i){e.scrollLock=!0,clearTimeout(o.data(this,"timer")),o.data(this,"timer",setTimeout(function(){e.scrollLock=!1},250));var t=i.originalEvent.deltaY||-1*i.originalEvent.detail;if(i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault(),0==t)return!1;if(t/120>0)(n=parseFloat(e.currentZoomLevel)-e.options.scrollZoomIncrement)>=parseFloat(e.minZoomLevel)&&e.changeZoomLevel(n);else if(!e.fullheight&&!e.fullwidth||!e.options.mantainZoomAspectRatio){var n=parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement;e.options.maxZoomLevel?n<=e.options.maxZoomLevel&&e.changeZoomLevel(n):e.changeZoomLevel(n)}return!1})},destroy:function(){var i=this;i.$elem.unbind("ezpspace"),o(i.sviZoomContainer).remove(),i.options.loadingIcon&&i.spinner&&i.spinner.length&&(i.spinner.remove(),delete i.spinner)},getIdentifier:function(){return this.options.sviZoomId},setElements:function(o){var i=this;if(!i.options.sviZoomEnabled)return!1;"show"===o&&i.isWindowSet&&("inner"===i.options.sviZoomType&&i.showHideWindow("show"),"window"===i.options.sviZoomType&&i.showHideWindow("show"),i.options.showLens&&i.showHideLens("show"),i.options.tint&&"inner"!==i.options.sviZoomType&&i.showHideTint("show")),"hide"===o&&("window"===i.options.sviZoomType&&i.showHideWindow("hide"),i.options.tint||i.showHideWindow("hide"),i.options.showLens&&i.showHideLens("hide"),i.options.tint&&i.showHideTint("hide"))},setPosition:function(o){var i=this;if(!i.options.sviZoomEnabled)return!1;if(i.nzHeight=i.$elem.height(),i.nzWidth=i.$elem.width(),i.nzOffset=i.$elem.offset(),i.options.tint&&"inner"!==i.options.sviZoomType&&i.sviZoomTint.css({top:0,left:0}),i.options.responsive&&!i.options.scrollZoom&&i.options.showLens){i.nzHeight<i.options.sviZoomWindowWidth/i.widthRatio?i.lensHeight=i.nzHeight:i.lensHeight=String(i.options.sviZoomWindowHeight/i.heightRatio),i.largeWidth<i.options.sviZoomWindowWidth?i.lensWidth=i.nzWidth:i.lensWidth=i.options.sviZoomWindowWidth/i.widthRatio,i.widthRatio=i.largeWidth/i.nzWidth,i.heightRatio=i.largeHeight/i.nzHeight,"lens"!==i.options.sviZoomType&&(i.nzHeight<i.options.sviZoomWindowWidth/i.widthRatio?i.lensHeight=i.nzHeight:i.lensHeight=String(i.options.sviZoomWindowHeight/i.heightRatio),i.nzWidth<i.options.sviZoomWindowHeight/i.heightRatio?i.lensWidth=i.nzWidth:i.lensWidth=String(i.options.sviZoomWindowWidth/i.widthRatio),i.sviZoomLens.css({width:i.lensWidth,height:i.lensHeight}),i.options.tint&&i.sviZoomTintImage.css({width:i.nzWidth,height:i.nzHeight})),"lens"===i.options.sviZoomType&&i.sviZoomLens.css({width:String(i.options.lensSize)+"px",height:String(i.options.lensSize)+"px"})}if(i.sviZoomContainer.css({top:i.nzOffset.top,left:i.nzOffset.left,width:i.nzWidth,height:i.nzHeight}),i.mouseLeft=parseInt(o.pageX-i.nzOffset.left),i.mouseTop=parseInt(o.pageY-i.nzOffset.top),"window"===i.options.sviZoomType){var e=i.sviZoomLens.height()/2,t=i.sviZoomLens.width()/2;i.Etoppos=i.mouseTop<0+e,i.Eboppos=i.mouseTop>i.nzHeight-e-2*i.options.lensBorderSize,i.Eloppos=i.mouseLeft<0+t,i.Eroppos=i.mouseLeft>i.nzWidth-t-2*i.options.lensBorderSize}"inner"===i.options.sviZoomType&&(i.Etoppos=i.mouseTop<i.nzHeight/2/i.heightRatio,i.Eboppos=i.mouseTop>i.nzHeight-i.nzHeight/2/i.heightRatio,i.Eloppos=i.mouseLeft<0+i.nzWidth/2/i.widthRatio,i.Eroppos=i.mouseLeft>i.nzWidth-i.nzWidth/2/i.widthRatio-2*i.options.lensBorderSize),i.mouseLeft<0||i.mouseTop<0||i.mouseLeft>i.nzWidth||i.mouseTop>i.nzHeight?i.setElements("hide"):(i.options.showLens&&(i.lensLeftPos=String(Math.floor(i.mouseLeft-i.sviZoomLens.width()/2)),i.lensTopPos=String(Math.floor(i.mouseTop-i.sviZoomLens.height()/2))),i.Etoppos&&(i.lensTopPos=0),i.Eloppos&&(i.windowLeftPos=0,i.lensLeftPos=0,i.tintpos=0),"window"===i.options.sviZoomType&&(i.Eboppos&&(i.lensTopPos=Math.max(i.nzHeight-i.sviZoomLens.height()-2*i.options.lensBorderSize,0)),i.Eroppos&&(i.lensLeftPos=i.nzWidth-i.sviZoomLens.width()-2*i.options.lensBorderSize)),"inner"===i.options.sviZoomType&&(i.Eboppos&&(i.lensTopPos=Math.max(i.nzHeight-2*i.options.lensBorderSize,0)),i.Eroppos&&(i.lensLeftPos=i.nzWidth-i.nzWidth-2*i.options.lensBorderSize)),"lens"===i.options.sviZoomType&&(i.windowLeftPos=String(-1*((o.pageX-i.nzOffset.left)*i.widthRatio-i.sviZoomLens.width()/2)),i.windowTopPos=String(-1*((o.pageY-i.nzOffset.top)*i.heightRatio-i.sviZoomLens.height()/2)),i.sviZoomLens.css("background-position",i.windowLeftPos+"px "+i.windowTopPos+"px"),i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"===i.options.sviZoomType&&i.sviZoomLens.css("background-size",i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"),i.sviZoomWindow.css("background-size",i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px")):("lens"===i.options.sviZoomType&&i.sviZoomLens.css("background-size",i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"),i.sviZoomWindow.css("background-size",i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px")),i.changeBgSize=!1),i.setWindowPosition(o)),i.options.tint&&"inner"!==i.options.sviZoomType&&i.setTintPosition(o),"window"===i.options.sviZoomType&&i.setWindowPosition(o),"inner"===i.options.sviZoomType&&i.setWindowPosition(o),i.options.showLens&&(i.fullwidth&&"lens"!==i.options.sviZoomType&&(i.lensLeftPos=0),i.sviZoomLens.css({left:i.lensLeftPos+"px",top:i.lensTopPos+"px"})))},showHideZoomContainer:function(o){var i=this;"show"===o&&i.sviZoomContainer&&i.sviZoomContainer.show(),"hide"===o&&i.sviZoomContainer&&i.sviZoomContainer.hide()},showHideWindow:function(o){var i=this;"show"===o&&!i.isWindowActive&&i.sviZoomWindow&&(i.options.onShow(i),i.options.sviZoomWindowFadeIn?i.sviZoomWindow.stop(!0,!0,!1).fadeIn(i.options.sviZoomWindowFadeIn):i.sviZoomWindow.show(),i.isWindowActive=!0),"hide"===o&&i.isWindowActive&&(i.options.sviZoomWindowFadeOut?i.sviZoomWindow.stop(!0,!0).fadeOut(i.options.sviZoomWindowFadeOut,function(){i.loop&&(clearInterval(i.loop),i.loop=!1)}):i.sviZoomWindow.hide(),i.isWindowActive=!1)},showHideLens:function(o){var i=this;"show"===o&&(i.isLensActive||(i.sviZoomLens&&(i.options.lensFadeIn?i.sviZoomLens.stop(!0,!0,!1).fadeIn(i.options.lensFadeIn):i.sviZoomLens.show()),i.isLensActive=!0)),"hide"===o&&i.isLensActive&&(i.sviZoomLens&&(i.options.lensFadeOut?i.sviZoomLens.stop(!0,!0).fadeOut(i.options.lensFadeOut):i.sviZoomLens.hide()),i.isLensActive=!1)},showHideTint:function(o){var i=this;"show"===o&&!i.isTintActive&&i.sviZoomTint&&(i.options.sviZoomTintFadeIn?i.sviZoomTint.css("opacity",i.options.tintOpacity).animate().stop(!0,!0).fadeIn("slow"):(i.sviZoomTint.css("opacity",i.options.tintOpacity).animate(),i.sviZoomTint.show()),i.isTintActive=!0),"hide"===o&&i.isTintActive&&(i.options.sviZoomTintFadeOut?i.sviZoomTint.stop(!0,!0).fadeOut(i.options.sviZoomTintFadeOut):i.sviZoomTint.hide(),i.isTintActive=!1)},setLensPosition:function(o){},setWindowPosition:function(i){var e=this;if(isNaN(e.options.sviZoomWindowPosition))e.externalContainer=o(e.options.sviZoomWindowPosition),e.externalContainer.length||(e.externalContainer=o("#"+e.options.sviZoomWindowPosition)),e.externalContainerWidth=e.externalContainer.width(),e.externalContainerHeight=e.externalContainer.height(),e.externalContainerOffset=e.externalContainer.offset(),e.windowOffsetTop=e.externalContainerOffset.top,e.windowOffsetLeft=e.externalContainerOffset.left;else switch(e.options.sviZoomWindowPosition){case 1:e.windowOffsetTop=e.options.sviZoomWindowOffsetY,e.windowOffsetLeft=+e.nzWidth;break;case 2:e.options.sviZoomWindowHeight>e.nzHeight?(e.windowOffsetTop=-1*(e.options.sviZoomWindowHeight/2-e.nzHeight/2),e.windowOffsetLeft=e.nzWidth):o.noop();break;case 3:e.windowOffsetTop=e.nzHeight-e.sviZoomWindow.height()-2*e.options.borderSize,e.windowOffsetLeft=e.nzWidth;break;case 4:e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=e.nzWidth;break;case 5:e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=e.nzWidth-e.sviZoomWindow.width()-2*e.options.borderSize;break;case 6:e.options.sviZoomWindowHeight>e.nzHeight?(e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=-1*(e.options.sviZoomWindowWidth/2-e.nzWidth/2+2*e.options.borderSize)):o.noop();break;case 7:e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=0;break;case 8:e.windowOffsetTop=e.nzHeight,e.windowOffsetLeft=-1*(e.sviZoomWindow.width()+2*e.options.borderSize);break;case 9:e.windowOffsetTop=e.nzHeight-e.sviZoomWindow.height()-2*e.options.borderSize,e.windowOffsetLeft=-1*(e.sviZoomWindow.width()+2*e.options.borderSize);break;case 10:e.options.sviZoomWindowHeight>e.nzHeight?(e.windowOffsetTop=-1*(e.options.sviZoomWindowHeight/2-e.nzHeight/2),e.windowOffsetLeft=-1*(e.sviZoomWindow.width()+2*e.options.borderSize)):o.noop();break;case 11:e.windowOffsetTop=e.options.sviZoomWindowOffsetY,e.windowOffsetLeft=-1*(e.sviZoomWindow.width()+2*e.options.borderSize);break;case 12:e.windowOffsetTop=-1*(e.sviZoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=-1*(e.sviZoomWindow.width()+2*e.options.borderSize);break;case 13:e.windowOffsetTop=-1*(e.sviZoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=0;break;case 14:e.options.sviZoomWindowHeight>e.nzHeight?(e.windowOffsetTop=-1*(e.sviZoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=-1*(e.options.sviZoomWindowWidth/2-e.nzWidth/2+2*e.options.borderSize)):o.noop();break;case 15:e.windowOffsetTop=-1*(e.sviZoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=e.nzWidth-e.sviZoomWindow.width()-2*e.options.borderSize;break;case 16:e.windowOffsetTop=-1*(e.sviZoomWindow.height()+2*e.options.borderSize),e.windowOffsetLeft=e.nzWidth;break;default:e.windowOffsetTop=e.options.sviZoomWindowOffsetY,e.windowOffsetLeft=e.nzWidth}if(e.isWindowSet=!0,e.windowOffsetTop=e.windowOffsetTop+e.options.sviZoomWindowOffsetY,e.windowOffsetLeft=e.windowOffsetLeft+e.options.sviZoomWindowOffsetX,e.sviZoomWindow.css({top:e.windowOffsetTop,left:e.windowOffsetLeft}),"inner"===e.options.sviZoomType&&e.sviZoomWindow.css({top:0,left:0}),e.windowLeftPos=String(-1*((i.pageX-e.nzOffset.left)*e.widthRatio-e.sviZoomWindow.width()/2)),e.windowTopPos=String(-1*((i.pageY-e.nzOffset.top)*e.heightRatio-e.sviZoomWindow.height()/2)),e.Etoppos&&(e.windowTopPos=0),e.Eloppos&&(e.windowLeftPos=0),e.Eboppos&&(e.windowTopPos=-1*(e.largeHeight/e.currentZoomLevel-e.sviZoomWindow.height())),e.Eroppos&&(e.windowLeftPos=-1*(e.largeWidth/e.currentZoomLevel-e.sviZoomWindow.width())),e.fullheight&&(e.windowTopPos=0),e.fullwidth&&(e.windowLeftPos=0),"window"===e.options.sviZoomType||"inner"===e.options.sviZoomType)if(1===e.sviZoomLock&&(e.widthRatio<=1&&(e.windowLeftPos=0),e.heightRatio<=1&&(e.windowTopPos=0)),"window"===e.options.sviZoomType&&(e.largeHeight<e.options.sviZoomWindowHeight&&(e.windowTopPos=0),e.largeWidth<e.options.sviZoomWindowWidth&&(e.windowLeftPos=0)),e.options.easing){e.xp||(e.xp=0),e.yp||(e.yp=0);var t=16;Number.isInteger(parseInt(e.options.easing))&&(t=parseInt(e.options.easing)),e.loop||(e.loop=setInterval(function(){e.xp+=(e.windowLeftPos-e.xp)/e.options.easingAmount,e.yp+=(e.windowTopPos-e.yp)/e.options.easingAmount,e.scrollingLock?(clearInterval(e.loop),e.xp=e.windowLeftPos,e.yp=e.windowTopPos,e.xp=-1*((i.pageX-e.nzOffset.left)*e.widthRatio-e.sviZoomWindow.width()/2),e.yp=-1*((i.pageY-e.nzOffset.top)*e.heightRatio-e.sviZoomWindow.height()/2),e.changeBgSize&&(e.nzHeight>e.nzWidth?("lens"===e.options.sviZoomType&&e.sviZoomLens.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"),e.sviZoomWindow.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px")):("lens"!==e.options.sviZoomType&&e.sviZoomLens.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvalueheight+"px"),e.sviZoomWindow.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px")),e.changeBgSize=!1),e.sviZoomWindow.css("background-position",e.windowLeftPos+"px "+e.windowTopPos+"px"),e.scrollingLock=!1,e.loop=!1):Math.round(Math.abs(e.xp-e.windowLeftPos)+Math.abs(e.yp-e.windowTopPos))<1?(clearInterval(e.loop),e.sviZoomWindow.css("background-position",e.windowLeftPos+"px "+e.windowTopPos+"px"),e.loop=!1):(e.changeBgSize&&(e.nzHeight>e.nzWidth?("lens"===e.options.sviZoomType&&e.sviZoomLens.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"),e.sviZoomWindow.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px")):("lens"!==e.options.sviZoomType&&e.sviZoomLens.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"),e.sviZoomWindow.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px")),e.changeBgSize=!1),e.sviZoomWindow.css("background-position",e.xp+"px "+e.yp+"px"))},t))}else e.changeBgSize&&(e.nzHeight>e.nzWidth?("lens"===e.options.sviZoomType&&e.sviZoomLens.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px"),e.sviZoomWindow.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px")):("lens"===e.options.sviZoomType&&e.sviZoomLens.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"),e.largeHeight/e.newvaluewidth<e.options.sviZoomWindowHeight?e.sviZoomWindow.css("background-size",e.largeWidth/e.newvaluewidth+"px "+e.largeHeight/e.newvaluewidth+"px"):e.sviZoomWindow.css("background-size",e.largeWidth/e.newvalueheight+"px "+e.largeHeight/e.newvalueheight+"px")),e.changeBgSize=!1),e.sviZoomWindow.css("background-position",e.windowLeftPos+"px "+e.windowTopPos+"px")},setTintPosition:function(o){var i=this,e=i.sviZoomLens.width(),t=i.sviZoomLens.height();i.nzOffset=i.$elem.offset(),i.tintpos=String(-1*(o.pageX-i.nzOffset.left-e/2)),i.tintposy=String(-1*(o.pageY-i.nzOffset.top-t/2)),i.Etoppos&&(i.tintposy=0),i.Eloppos&&(i.tintpos=0),i.Eboppos&&(i.tintposy=-1*(i.nzHeight-t-2*i.options.lensBorderSize)),i.Eroppos&&(i.tintpos=-1*(i.nzWidth-e-2*i.options.lensBorderSize)),i.options.tint&&(i.fullheight&&(i.tintposy=0),i.fullwidth&&(i.tintpos=0),i.sviZoomTintImage.css({left:i.tintpos+"px",top:i.tintposy+"px"}))},swaptheimage:function(i,e){var t=this,n=new Image;if(t.options.loadingIcon&&!t.spinner){var s="background: url('"+t.options.loadingIcon+"') no-repeat center;height:"+t.nzHeight+"px;width:"+t.nzWidth+"px;z-index: 2000;position: absolute; background-position: center center;";"inner"===t.options.sviZoomType&&(s+="top: 0px;"),t.spinner=o('<div class="ezp-spinner" style="'+s+'"></div>'),t.$elem.after(t.spinner)}else t.spinner&&t.spinner.show();t.options.onImageSwap(t.$elem),n.onload=function(){t.largeWidth=n.width,t.largeHeight=n.height,t.sviZoomImage=e,t.sviZoomWindow.css("background-size",t.largeWidth+"px "+t.largeHeight+"px"),t.swapAction(i,e)},t.setImageSource(n,e)},swapAction:function(i,e){var t=this,n=t.$elem.width(),s=t.$elem.height(),a=new Image;if(a.onload=function(){t.nzHeight=a.height,t.nzWidth=a.width,t.options.onImageSwapComplete(t.$elem),t.doneCallback()},t.setImageSource(a,i),t.currentZoomLevel=t.options.sviZoomLevel,t.options.maxZoomLevel=!1,"lens"===t.options.sviZoomType&&t.sviZoomLens.css("background-image",'url("'+e+'")'),"window"===t.options.sviZoomType&&t.sviZoomWindow.css("background-image",'url("'+e+'")'),"inner"===t.options.sviZoomType&&t.sviZoomWindow.css("background-image",'url("'+e+'")'),t.currentImage=e,t.options.imageCrossfade){var d=t.$elem,h=d.clone();if(t.$elem.attr("src",i),t.$elem.after(h),h.stop(!0).fadeOut(t.options.imageCrossfade,function(){o(this).remove()}),t.$elem.width("auto").removeAttr("width"),t.$elem.height("auto").removeAttr("height"),d.fadeIn(t.options.imageCrossfade),t.options.tint&&"inner"!==t.options.sviZoomType){var p=t.sviZoomTintImage,r=p.clone();t.sviZoomTintImage.attr("src",e),t.sviZoomTintImage.after(r),r.stop(!0).fadeOut(t.options.imageCrossfade,function(){o(this).remove()}),p.fadeIn(t.options.imageCrossfade),t.sviZoomTint.css({height:s,width:n})}t.sviZoomContainer.css({height:s,width:n}),"inner"===t.options.sviZoomType&&(t.options.constrainType||(t.sviZoomWrap.parent().css({height:s,width:n}),t.sviZoomWindow.css({height:s,width:n}))),t.options.imageCrossfade&&t.sviZoomWrap.css({height:s,width:n})}else t.$elem.attr("src",i),t.options.tint&&(t.sviZoomTintImage.attr("src",e),t.sviZoomTintImage.attr("height",s),t.sviZoomTintImage.css("height",s),t.sviZoomTint.css("height",s)),t.sviZoomContainer.css({height:s,width:n}),t.options.imageCrossfade&&t.sviZoomWrap.css({height:s,width:n});if(t.options.constrainType){if("height"===t.options.constrainType){var l={height:t.options.constrainSize,width:"auto"};t.sviZoomContainer.css(l),t.options.imageCrossfade?(t.sviZoomWrap.css(l),t.constwidth=t.sviZoomWrap.width()):(t.$elem.css(l),t.constwidth=n);var m={height:t.options.constrainSize,width:t.constwidth};"inner"===t.options.sviZoomType&&(t.sviZoomWrap.parent().css(m),t.sviZoomWindow.css(m)),t.options.tint&&(t.tintContainer.css(m),t.sviZoomTint.css(m),t.sviZoomTintImage.css(m))}if("width"===t.options.constrainType){var g={height:"auto",width:t.options.constrainSize};t.sviZoomContainer.css(g),t.options.imageCrossfade?(t.sviZoomWrap.css(g),t.constheight=t.sviZoomWrap.height()):(t.$elem.css(g),t.constheight=s);var w={height:t.constheight,width:t.options.constrainSize};"inner"===t.options.sviZoomType&&(t.sviZoomWrap.parent().css(w),t.sviZoomWindow.css(w)),t.options.tint&&(t.tintContainer.css(w),t.sviZoomTint.css(w),t.sviZoomTintImage.css(w))}}},doneCallback:function(){var o=this;o.options.loadingIcon&&o.spinner&&o.spinner.length&&o.spinner.hide(),o.nzOffset=o.$elem.offset(),o.nzWidth=o.$elem.width(),o.nzHeight=o.$elem.height(),o.currentZoomLevel=o.options.sviZoomLevel,o.widthRatio=o.largeWidth/o.nzWidth,o.heightRatio=o.largeHeight/o.nzHeight,"window"===o.options.sviZoomType&&(o.nzHeight<o.options.sviZoomWindowHeight/o.heightRatio?o.lensHeight=o.nzHeight:o.lensHeight=String(o.options.sviZoomWindowHeight/o.heightRatio),o.nzWidth<o.options.sviZoomWindowWidth?o.lensWidth=o.nzWidth:o.lensWidth=o.options.sviZoomWindowWidth/o.widthRatio,o.sviZoomLens&&o.sviZoomLens.css({width:o.lensWidth,height:o.lensHeight}))},getCurrentImage:function(){return this.sviZoomImage},getGalleryList:function(){var i=this;return i.gallerylist=[],i.options.gallery?o("#"+i.options.gallery+" a").each(function(){var e="";o(this).data(i.options.attrImageZoomSrc)?e=o(this).data(i.options.attrImageZoomSrc):o(this).data("image")&&(e=o(this).data("image")),e===i.sviZoomImage?i.gallerylist.unshift({href:""+e,title:o(this).find("img").attr("title")}):i.gallerylist.push({href:""+e,title:o(this).find("img").attr("title")})}):i.gallerylist.push({href:""+i.sviZoomImage,title:o(this).find("img").attr("title")}),i.gallerylist},changeZoomLevel:function(o){var i=this;i.scrollingLock=!0,i.newvalue=parseFloat(o).toFixed(2);var e=i.newvalue,t=i.largeHeight/(i.options.sviZoomWindowHeight/i.nzHeight*i.nzHeight),n=i.largeWidth/(i.options.sviZoomWindowWidth/i.nzWidth*i.nzWidth);"inner"!==i.options.sviZoomType&&(t<=e?(i.heightRatio=i.largeHeight/t/i.nzHeight,i.newvalueheight=t,i.fullheight=!0):(i.heightRatio=i.largeHeight/e/i.nzHeight,i.newvalueheight=e,i.fullheight=!1),n<=e?(i.widthRatio=i.largeWidth/n/i.nzWidth,i.newvaluewidth=n,i.fullwidth=!0):(i.widthRatio=i.largeWidth/e/i.nzWidth,i.newvaluewidth=e,i.fullwidth=!1),"lens"===i.options.sviZoomType&&(t<=e?(i.fullwidth=!0,i.newvaluewidth=t):(i.widthRatio=i.largeWidth/e/i.nzWidth,i.newvaluewidth=e,i.fullwidth=!1))),"inner"===i.options.sviZoomType&&(t=parseFloat(i.largeHeight/i.nzHeight).toFixed(2),n=parseFloat(i.largeWidth/i.nzWidth).toFixed(2),e>t&&(e=t),e>n&&(e=n),t<=e?(i.heightRatio=i.largeHeight/e/i.nzHeight,i.newvalueheight=e>t?t:e,i.fullheight=!0):(i.heightRatio=i.largeHeight/e/i.nzHeight,i.newvalueheight=e>t?t:e,i.fullheight=!1),n<=e?(i.widthRatio=i.largeWidth/e/i.nzWidth,i.newvaluewidth=e>n?n:e,i.fullwidth=!0):(i.widthRatio=i.largeWidth/e/i.nzWidth,i.newvaluewidth=e,i.fullwidth=!1));var s=!1;"inner"===i.options.sviZoomType&&(i.nzWidth>=i.nzHeight&&(i.newvaluewidth<=n?s=!0:(s=!1,i.fullheight=!0,i.fullwidth=!0)),i.nzHeight>i.nzWidth&&(i.newvaluewidth<=n?s=!0:(s=!1,i.fullheight=!0,i.fullwidth=!0))),"inner"!==i.options.sviZoomType&&(s=!0),s&&(i.sviZoomLock=0,i.changeZoom=!0,i.options.sviZoomWindowHeight/i.heightRatio<=i.nzHeight&&(i.currentZoomLevel=i.newvalueheight,"lens"!==i.options.sviZoomType&&"inner"!==i.options.sviZoomType&&(i.changeBgSize=!0,i.sviZoomLens.css("height",String(i.options.sviZoomWindowHeight/i.heightRatio)+"px")),"lens"!==i.options.sviZoomType&&"inner"!==i.options.sviZoomType||(i.changeBgSize=!0)),i.options.sviZoomWindowWidth/i.widthRatio<=i.nzWidth&&("inner"!==i.options.sviZoomType&&i.newvaluewidth>i.newvalueheight&&(i.currentZoomLevel=i.newvaluewidth),"lens"!==i.options.sviZoomType&&"inner"!==i.options.sviZoomType&&(i.changeBgSize=!0,i.sviZoomLens.css("width",String(i.options.sviZoomWindowWidth/i.widthRatio)+"px")),"lens"!==i.options.sviZoomType&&"inner"!==i.options.sviZoomType||(i.changeBgSize=!0)),"inner"===i.options.sviZoomType&&(i.changeBgSize=!0,i.nzWidth>i.nzHeight?i.currentZoomLevel=i.newvaluewidth:i.nzHeight>=i.nzWidth&&(i.currentZoomLevel=i.newvaluewidth))),i.setPosition(i.currentLoc)},closeAll:function(){var o=this;o.sviZoomWindow&&o.sviZoomWindow.hide(),o.sviZoomLens&&o.sviZoomLens.hide(),o.sviZoomTint&&o.sviZoomTint.hide()},changeState:function(o){var i=this;"enable"===o&&(i.options.sviZoomEnabled=!0),"disable"===o&&(i.options.sviZoomEnabled=!1)},responsiveConfig:function(i){return i.respond&&i.respond.length>0?o.extend({},i,this.configByScreenWidth(i)):i},configByScreenWidth:function(e){var t=o(i).width(),n=o.grep(e.respond,function(o){var i=o.range.split("-");return t>=i[0]&&t<=i[1]});return n.length>0?n[0]:e}};o.fn.ezPlus=function(i){return this.each(function(){var e=Object.create(n);e.init(i,this),o.data(this,"ezPlus",e)})},o.fn.ezPlus.options={attrImageZoomSrc:"svizoom-image",borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:"sviZoomGalleryActive",gallerySelector:!1,galleryItem:"a",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenssviZoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:1.01,onComplete:o.noop,onDestroy:o.noop,onImageClick:o.noop,onImageSwap:o.noop,onImageSwapComplete:o.noop,onShow:o.noop,onZoomedImageLoaded:o.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,sviZoomActivation:"hover",sviZoomContainerAppendTo:"body",sviZoomId:-1,sviZoomLevel:1,sviZoomTintFadeIn:!1,sviZoomTintFadeOut:!1,sviZoomType:"window",sviZoomWindowAlwaysShow:!1,sviZoomWindowBgColour:"#fff",sviZoomWindowFadeIn:!1,sviZoomWindowFadeOut:!1,sviZoomWindowHeight:400,sviZoomWindowOffsetX:0,sviZoomWindowOffsetY:0,sviZoomWindowPosition:1,sviZoomWindowWidth:400,sviZoomEnabled:!0,zIndex:9999}}(jQuery,window,document);