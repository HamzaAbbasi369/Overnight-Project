if(WOOSVI){if(WOOSVI&&"object"!=typeof WOOSVI)throw new Error("WOOSVI is not an Object type")}else var WOOSVI={};WOOSVI.isLoaded=!1,WOOSVI.STARTS=function(i){var t=i(".variations_form"),n=t.data("product_variations"),a=i("div.woosvi_strap"),e=[],o=a.hasClass("woosvi_lightbox"),s=a.hasClass("woosvi_lens"),l=a.hasClass("woosvi_swselect"),r=a.hasClass("svihide_thumbs"),u=a.hasClass("svivariation_swap"),d=!0;return{NAME:"Application initialize module",VERSION:3.7,init:function(){this.loadInits()},loadInits:function(){i("div.product a").unbind("click.prettyphoto"),WOOSVI.STARTS.initImages()},runInits:function(){t.find(".variations select").length>0?(WOOSVI.STARTS.getVariations(),WOOSVI.STARTS.variationLoad(),WOOSVI.STARTS.variationChangeOnSelect(),WOOSVI.STARTS.variationChange(),WOOSVI.STARTS.variationReset()):i("div.svithumbnails,a.woocommerce-main-image").hide()},preventDefault:function(){i("div.woosvi_strap a").click(function(i){i.preventDefault()})},initImages:function(){t.find(".variations select").length<=0&&(d=!1),i(".woosvi_strap").show(),r&&d&&i("div.svithumbnails").removeClass("hidden"),i("div.svithumbnails a").click(function(){l&&WOOSVI.STARTS.swselect(this),WOOSVI.STARTS.initSwap(this,"initImages")}),setTimeout(function(){WOOSVI.STARTS.runInits(),WOOSVI.STARTS.preventDefault()},0)},swselect:function(n){var a,e,o=i(n).find("img").data("woosvi");i.each(t.find("option"),function(t,n){if(e=i(n).val().replace(/ /g,"").toLowerCase(),String(e)===String(o))return a=i(n).closest("select"),o=i(n).val(),!1}),a&&a.val(o).trigger("change")},initRebuild:function(i,t,n){$svithumbnailsWrap=n.find("div.svithumbnails,ul.thumbnails"),$svithumbnailsWrap.data("columns"),$svithumbnailsWrap.find('img[data-woosvi="'+i+'"]').length,$svithumbnailsWrap.find('img[data-woosvi="'+i+'"]').closest("a"),$svithumbnailsWrap.find('img:not([data-woosvi="'+i+'"])').closest("li.thumb-item,div.thumb-item").hide(),$svithumbnailsWrap.find('img[data-woosvi="'+i+'"]').closest("li.thumb-item,div.thumb-item").show(),WOOSVI.STARTS.preventDefault()},initSwap:function(t,n){var a=($element=i(t),function(t){$element.show(),e.show();var a=i('body.single-product div[id*="product-"]');0===a.length&&(a=$element);var o=a.find("div.svithumbnails, ul.thumbnails");r&&d&&("initReset"!==n?o.show().removeClass("hidden"):o.hide().addClass("hidden")),a.find("div.svithumbnails, ul.thumbnails").show(),a.find("a.woocommerce-main-image").show(),WOOSVI.STARTS.preventDefault(),WOOSVI.STARTS.loader()}),e=i(t).clone(),o=new Image,s=e.find("img").attr("src");i(o).on("load",a).on("error",function(i){console.log("error this - ",i,this)}).attr("src",s)},initReset:function(){var t,n,a,e=i("div.svithumbnails,ul.thumbnails");t=e.data("columns"),a=e.find("img").closest("a"),e.find("img").closest("a").attr("class","").show(),a.each(function(a,e){n=["zoom"],0!==a&&a%t!=0||n.push("first"),(a+1)%t==0&&n.push("last"),i(e).attr("class",n.join(" ")),0===a&&WOOSVI.STARTS.initSwap(e,"initReset")}),WOOSVI.STARTS.preventDefault(),WOOSVI.STARTS.loader()},getVariations:function(){i.each(n,function(i,t){e.push(t.attributes.attribute_pa_color)})},variationLoad:function(){var n=!1;i.each(t.find(".variations.general select"),function(t,a){var e=i(this).val().replace(/ /g,"").toLowerCase();if(e){if(0===(n=i("div.svithumbnails,ul.thumbnails").find('img[data-woosvi="'+e+'"]').length))return;WOOSVI.STARTS.initRebuild(e)}})},variationChange:function(){var t;i(document).ajaxSend(function(t,n,a){a.url.indexOf("wc-ajax=get_variation")>=0&&i("div.svithumbnails,ul.thumbnails").fadeTo("slow",.4)}).ajaxComplete(function(t,n,a){a.url.indexOf("wc-ajax=get_variation")>=0&&i("div.svithumbnails,ul.thumbnails").fadeTo("fast",1)}),jQuery(document.body).on("found_variation",".variations_form",function(n,a){var e=i(this),o=e.closest('div.look-item,div[id*="product-"]'),s=e.find(".variation-selector select option:selected").val();i.each(a.attributes,function(n,a){if("attribute_pa_color"===n){var e=a.replace(/ /g,"").toLowerCase();if(""===e)return WOOSVI.STARTS.variationLoad(),!1;e||(e=i('select[name="'+n+'"]').val()),0!==(t=o.find("div.svithumbnails,ul.thumbnails").find('img[data-woosvi="'+e+'"]').length)&&WOOSVI.STARTS.initRebuild(e,s,o)}})})},variationChangeOnSelect:function(){u&&t.find(".variations select").on("change",function(){WOOSVI.STARTS.variationLoad()})},variationReset:function(){t.on("click",".reset_variations",function(i){WOOSVI.STARTS.initReset()})},loader:function(){o&&WOOSVI.STARTS.prettyPhoto(),s&&WOOSVI.STARTS.LoadLens()}}}(jQuery.noConflict()),jQuery(document).ready(function(){WOOSVI.STARTS.init()});