if(WOOSVI){if(WOOSVI&&"object"!=typeof WOOSVI)throw new Error("WOOSVI is not an Object type")}else var WOOSVI={};WOOSVI.isLoaded=!1,WOOSVI.STARTS=function(i){var t=i(".variations_form"),n=t.data("product_variations"),a=i("div#woosvi_strap"),e=[],o=a.hasClass("woosvi_swselect"),s=(a.hasClass("svihide_thumbs"),!0);return{NAME:"Application initialize module",VERSION:3.7,init:function(){WOOSVI.STARTS.initImages()},runInits:function(){t.find(".variations select").length>0?(WOOSVI.STARTS.getVariations(),WOOSVI.STARTS.variationLoad(),WOOSVI.STARTS.variationChangeOnSelect(),WOOSVI.STARTS.variationChange(),WOOSVI.STARTS.variationReset()):i("div.svithumbnails,a.woocommerce-main-image").hide()},preventDefault:function(){i("div#woosvi_strap a").click(function(i){i.preventDefault()})},initImages:function(){t.find(".variations select").length<=0&&(s=!1),i("#woosvi_strap").show(),i("div.svithumbnails a").click(function(){o&&(WOOSVI.STARTS.swselect(this),WOOSVI.STARTS.initSwap(this))}),setTimeout(function(){WOOSVI.STARTS.runInits(),WOOSVI.STARTS.preventDefault()},0)},swselect:function(n){var a,e,o=i(n).find("img").data("woosvi");i.each(t.find("option"),function(t,n){if(e=i(n).val().replace(/ /g,"").toLowerCase(),String(e)===String(o))return a=i(n).closest("select"),o=i(n).val(),!1}),a&&a.val(o).trigger("change")},initRebuild:function(t){i("div.svithumbnails").find("img").closest("a").hide(),i("div.svithumbnails").find("img").closest("a").attr("class",""),i("div.svithumbnails").find('img[data-woosvi="'+t+'"]').show().closest("a").show(),i("div.svithumbnails").removeClass("hidden"),WOOSVI.STARTS.preventDefault()},initSwap:function(i,t){},initReset:function(){var t,n,a;t=i("div.svithumbnails").data("columns"),a=i("div.svithumbnails").find("img").closest("a"),i("div.svithumbnails").find("img").closest("a").show(),i("div.svithumbnails").find("img").closest("a").attr("class",""),a.each(function(a,e){n=["zoom"],0!==a&&a%t!=0||n.push("first"),(a+1)%t==0&&n.push("last"),i(e).attr("class",n.join(" ")),0==a&&WOOSVI.STARTS.initSwap(e,"initReset")}),WOOSVI.STARTS.preventDefault(),WOOSVI.STARTS.loader()},getVariations:function(){i.each(n,function(i,t){e.push(t.attributes.attribute_pa_color)})},variationLoad:function(){var n=!1;i.each(t.find(".variations.general select"),function(t,a){var e=i(this).val().replace(/ /g,"").toLowerCase();if(console.log("$variation (active color) - ",e),e){if(0===(n=i("div.svithumbnails").find('img[data-woosvi="'+e+'"]').length))return;WOOSVI.STARTS.initRebuild(e)}})},variationChange:function(){var n,a,e;i(document).ajaxSend(function(t,n,a){a.url.indexOf("wc-ajax=get_variation")>=0&&i("div.svithumbnails,div#svi_thumbslider").fadeTo("slow",.4)}).ajaxComplete(function(t,n,a){a.url.indexOf("wc-ajax=get_variation")>=0&&i("div.svithumbnails,div#svi_thumbslider").fadeTo("fast",1)}),t.on("found_variation",function(t,o){var s=i(t.target).closest(".product-type-variable");i.each(o.attributes,function(t,o){var r=o.replace(/ /g,"").toLowerCase();if(""===r)return WOOSVI.STARTS.variationLoad(),!1;r||(r=i('select[name="'+t+'"]').val()),n=s.find('img[data-woosvi="'+r+'"]').length,a=s.find('img[data-woosvi="'+r+'"]').closest("a:visible").length,e=s.find("img").closest("a:visible").length,0!==n&&(a===n&&a===e||WOOSVI.STARTS.initRebuild(r))})})},variationChangeOnSelect:function(){t.find(".variations select").on("change",function(){WOOSVI.STARTS.variationLoad()})},variationReset:function(){t.on("click",".reset_variations",function(i){WOOSVI.STARTS.initReset()})},loader:function(){}}}(jQuery.noConflict()),jQuery(document).ready(function(){WOOSVI.STARTS.init()});