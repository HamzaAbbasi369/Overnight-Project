var ong_all_filters=ong_all_filters||{};jQuery(function(i){"use strict";var e=i("ul.ong-filter"),t=(i(".filter-button"),e.find("li.filter--ong-filter-item [data-filter-type=size] .size-slider")),a=t.length,r=t.closest(".filter--ong-filter-item");r.attr("data-has-something-inside",!1).removeClass("has-something-inside"),t.closest(".filter--ong-filter-item").find(".accordion-title").removeAttr("data-checked-count"),jQuery("input.size-of-frame-min, input.size-of-frame-max").change(function(){var e=i(this).closest(".slider-box").find(".size-slider"),t=e.slider("values")[0],a=e.slider("values")[1],r=i(this).parent().find("input.size-of-frame-min"),n=i(this).parent().find("input.size-of-frame-max"),l=r.data("value"),s=n.data("value"),d=parseInt(r.val()),f=parseInt(n.val());if(d>f){var o=d;d=f,f=o,r.val(d),n.val(f)}void 0!==l&&d!==l&&l>d&&(d=l),void 0!==s&&f!==s&&s<f&&(f=s),t===d&&a===f||e.slider("values",[d,f])}),t.slider({range:!0,stop:function(e,t){var a=i(e.target).parent().find(".size-item-slider-inputs");a.find("input.size-of-frame-min").data("value",t.values[0]),a.find("input.size-of-frame-max").data("value",t.values[1]),a.find("input.size-of-frame-min").val(t.values[0]),a.find("input.size-of-frame-max").val(t.values[1]).change()},slide:function(e,t){var a=i(e.target).parent().find(".size-item-slider-inputs");a.find("input.size-of-frame-min").val(t.values[0]),a.find("input.size-of-frame-max").val(t.values[1])},change:function(e,t){var a=i(e.target).parent().find(".size-item-slider-inputs");a.find("input.size-of-frame-min").val(t.values[0]),a.find("input.size-of-frame-max").val(t.values[1]);var r=i(e.target).closest(".slider-box").find(".size-slider"),n=r.slider("option","min"),l=r.slider("option","max"),s=i(e.target).parent().data("filterKey");i(e.target).parent().parent().parent().find('.text-input-container input[data-code="'+s+'"]').data("min",n).data("max",l)},create:function(e,t){0===--a&&i(document.body).trigger("ong_filter_slider_created")}});var n=[36,60],l=[14,24],s=[125,150];"undefined"!=typeof initial_filter&&void 0!==initial_filter.filter&&void 0!==initial_filter.filter.size&&(void 0!==initial_filter.filter.size["pa_lens-width"]&&(n=initial_filter.filter.size["pa_lens-width"]),void 0!==initial_filter.filter.size.pa_bridge&&(l=initial_filter.filter.size.pa_bridge),void 0!==initial_filter.filter.size.pa_temple&&(s=initial_filter.filter.size.pa_temple)),jQuery("#pa_lens_width_slider").slider({min:36,max:60,values:n}),jQuery("#pa_bridge_slider").slider({min:14,max:24,values:l}),jQuery("#pa_temple_slider").slider({min:125,max:150,values:s}),jQuery(".filter-size-wrapper").hasClass("have-user-size")&&jQuery("input[type=checkbox]").prop("checked",!0).checkbox("refresh"),i(document.body).on("ong_filter_start_search",function(t){var a=0,r=0;i.each(e.find('ul.filter--ong-filter-group .slider-box[data-filter-type="size"]'),function(){var e=i(this),t=e.data("filterName"),n=e.find(".size-slider");n.closest("li.filter--ong-filter-item");"undefined"!==t&&(void 0===ong_all_filters.size&&(ong_all_filters.size={}),void 0===ong_all_filters.size[t]&&(ong_all_filters.size[t]=[]));var l=JSON.stringify(ong_all_filters.size[t]),s=n.slider("values"),d=n.slider("option","min"),f=n.slider("option","max");s[0]===d&&s[1]===f?s=[]:r++,l!==JSON.stringify(s)&&(ong_all_filters.size[t]=s,a++)}),a&&(ong_runned_filters++,i(document.body).trigger("ong_filter_updated"))}),i(document.body).bind("ong_filter_renewed",function(a){var n=0;t.closest(".filter--ong-filter-item").find(".accordion-title").removeAttr("data-checked-count"),i.each(e.find('ul.filter--ong-filter-group .slider-box[data-filter-type="size"]'),function(){var e=i(this),t=(e.data("filterName"),e.find(".size-slider")),a=t.slider("values"),r=t.slider("option","min"),l=t.slider("option","max");a[0]===r&&a[1]===l?a=[]:n++}),n?(r.attr("data-has-something-inside",!0).addClass("has-something-inside"),r.find(".accordion-title").attr("data-checked-count",n)):(r.attr("data-has-something-inside",!1).removeClass("has-something-inside"),t.closest(".filter--ong-filter-item").find(".accordion-title").removeAttr("data-checked-count"))})});