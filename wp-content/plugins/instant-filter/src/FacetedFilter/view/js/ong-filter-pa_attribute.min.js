var ong_all_filters=ong_all_filters||{};jQuery(function(t){"use strict";var e="pa_attribute",i=t("ul.ong-filter");t(".filter-button");t(document.body).on("ong_filter_start_search",function(a){var l=0;t.each(i.find('ul.filter--ong-filter-group[data-filter-type="pa_attribute"]'),function(){var i=t(this),a=i.data("filter-name");"undefined"!==a&&(void 0===ong_all_filters[e]&&(ong_all_filters[e]={}),void 0===ong_all_filters[e][a]&&(ong_all_filters[e][a]=[]));var n=JSON.stringify(ong_all_filters[e][a]),r=[],o=i.find("input[type=checkbox]:checked");t.each(o,function(){r.push(t(this).val())}),r.length>0&&(r=r.sort()),n!==JSON.stringify(r)&&(ong_all_filters[e][a]=r,l++)}),l&&(ong_runned_filters++,t(document.body).trigger("ong_filter_updated"))}),t(document.body).bind("ong_filter_renewed",function(a){var l=a.params,n=i.find("li.filter--ong-filter-item ul[data-filter-type=pa_attribute]").parent();n.attr("data-has-something-inside",!1).removeClass("has-something-inside").hide(),n.find(".accordion-title").removeAttr("data-checked-count"),n.find("ul.filter--ong-filter-group li").remove(),"object"==typeof l[e]&&t.each(l[e],function(a,l){var n=i.find("ul.filter--ong-filter-group[data-filter-type=pa_attribute][data-filter-name="+a+"]"),r=n.closest("li.filter--ong-filter-item"),o=!1,d=0;t.each(l,function(t,i){var l="pa_attribute_"+a+"_"+t,r=n.data("filter-name"),f=i._id,s=i._id,_=void 0!==ong_all_filters[e]&&void 0!==ong_all_filters[e][r]&&ong_all_filters[e][r].indexOf(f)>-1;_&&(++d,o=!0),n.append('<li><input type="checkbox" name="[pa_attribute]['+r+'][]" value="'+f+'" id="'+l+'"'+(_?' checked="checked" ':"")+' data-count="'+i.count+'" data-filter-type="'+e+'" data-filter-name="'+r+'" data-filter-key="'+a+'"><label for="'+l+'">'+s+"</label></li>")}),o&&(r.attr("data-has-something-inside",!0).addClass("has-something-inside"),r.find(".accordion-title").attr("data-checked-count",d)),r.show()})})});